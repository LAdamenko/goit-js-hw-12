{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getImges(query) {\n    const url = `https://pixabay.com/api/`;\n    const params = {\n        key: '43018161-f974b102273f6260f6ed159b0',\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    };\n    try {\n        const res = await axios.get(url, { params });\n        return res.data;\n    } catch (err) {\n        iziToast.error({\n                    color: 'red',\n                    message: `❌ Sorry, there was a mistake. Please try again!`,\n                    position: 'topRight',\n                });\n    }\n}\n\n","function imgTemplate(data) {\n    const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = data;\n    return `<li class=\"gallery-item\">\n\t<a class=\"gallery-link\" href=\"${largeImageURL}\">\n\t\t<img\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n            width=\"360\"\n            height=\"200\"\n            class=\"gallery-img\"\n        />\n        <ul class=\"gallery-description\">\n        <li class=\"gallery-description-item\"><h3>Likes</h3><p>${likes}</p></li>\n        <li class=\"gallery-description-item\"><h3>Views</h3><p>${views}</p></li>\n        <li class=\"gallery-description-item\"><h3>Comments</h3><p>${comments}</p></li>\n        <li class=\"gallery-description-item\"><h3>Downloads</h3><p>${downloads}</p></li>\n     </ul>\n\t</a>\n</li>`;\n}\n\nexport function imagesTemplate(arr) {\n  return arr.map(imgTemplate).join('');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImges } from \"./js/pixabay-api\";\nimport { imagesTemplate } from \"./js/render-functions\";\n\nconst refs = {\n  formEl: document.querySelector('.input-form'),\n  infoEl: document.querySelector('.gallery'),\n};\nconst loader = document.querySelector('.loader');\n\nrefs.formEl.addEventListener(\"submit\", e => {\n    e.preventDefault();\n    \n    const query = refs.formEl.elements.query.value;\n    if (query === \"\") {\n        iziToast.warning({\n            color: 'yellow',\n            message: 'You forgot to describe the image',\n            position: 'topRight',\n        });\n    } else {\n        refs.infoEl.innerHTML = \"\";\n        loader.classList.remove('is-hidden');\n        getImges(query)\n            .then(data => {\n                const markup = imagesTemplate(data.hits);\n                refs.infoEl.innerHTML = markup;\n                \n                const lightbox = new SimpleLightbox('.gallery-link', {\n                    captionsData: 'alt',\n                    captionDelay: 250,\n                    overlayOpacity: 0.8,\n                });\n                lightbox.refresh();\n\n                if (!markup.length) {\n                    iziToast.error({\n                        color: 'red',\n                        message: `❌ Sorry, there are no images matching your search query. Please try again!`,\n                        position: 'topRight',\n                    });\n                    loader.classList.add('is-hidden');\n                }\n            })\n            .catch(err => {\n                iziToast.error({\n                    color: 'red',\n                    message: `❌ Sorry, there was a mistake. Please try again!`,\n                    position: 'topRight',\n                });\n                refs.infoEl.innerHTML = '';\n            })\n            .finally(() => {\n                loader.classList.add('is-hidden');\n            });\n        \n        \n    }\n});\n"],"names":["getImges","query","url","params","axios","imgTemplate","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","arr","refs","loader","e","iziToast","markup","SimpleLightbox","err"],"mappings":"owBAEO,eAAeA,EAASC,EAAO,CAClC,MAAMC,EAAM,2BACNC,EAAS,CACX,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,EACI,GAAI,CAEA,OADY,MAAMG,EAAM,IAAIF,EAAK,CAAE,OAAAC,CAAM,CAAE,GAChC,IACd,MAAa,CACV,SAAS,MAAM,CACH,MAAO,MACP,QAAS,kDACT,SAAU,UAC9B,CAAiB,CACZ,CACL,CCrBA,SAASE,EAAYC,EAAM,CACvB,KAAM,CACN,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACF,MAAO;AAAA,iCACsBE,CAAa;AAAA;AAAA,mBAE3BD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEAMyCC,CAAK;AAAA,gEACLC,CAAK;AAAA,mEACFC,CAAQ;AAAA,oEACPC,CAAS;AAAA;AAAA;AAAA,MAI7E,CAEO,SAASC,EAAeC,EAAK,CAClC,OAAOA,EAAI,IAAIV,CAAW,EAAE,KAAK,EAAE,CACrC,CCtBA,MAAMW,EAAO,CACX,OAAQ,SAAS,cAAc,aAAa,EAC5C,OAAQ,SAAS,cAAc,UAAU,CAC3C,EACMC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,OAAO,iBAAiB,SAAUE,GAAK,CACxCA,EAAE,eAAc,EAEhB,MAAMjB,EAAQe,EAAK,OAAO,SAAS,MAAM,MACrCf,IAAU,GACVkB,EAAS,QAAQ,CACb,MAAO,SACP,QAAS,mCACT,SAAU,UACtB,CAAS,GAEDH,EAAK,OAAO,UAAY,GACxBC,EAAO,UAAU,OAAO,WAAW,EACnCjB,EAASC,CAAK,EACT,KAAKK,GAAQ,CACV,MAAMc,EAASN,EAAeR,EAAK,IAAI,EACvCU,EAAK,OAAO,UAAYI,EAEP,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,IACd,eAAgB,EACpC,CAAiB,EACQ,QAAO,EAEXD,EAAO,SACRD,EAAS,MAAM,CACX,MAAO,MACP,QAAS,6EACT,SAAU,UAClC,CAAqB,EACDF,EAAO,UAAU,IAAI,WAAW,EAEpD,CAAa,EACA,MAAMK,GAAO,CACVH,EAAS,MAAM,CACX,MAAO,MACP,QAAS,kDACT,SAAU,UAC9B,CAAiB,EACDH,EAAK,OAAO,UAAY,EACxC,CAAa,EACA,QAAQ,IAAM,CACXC,EAAO,UAAU,IAAI,WAAW,CAChD,CAAa,EAIb,CAAC"}